<h1>Queues</h1>

<!-- Блок для отображения информации об аутентификации -->
{% if user.is_authenticated %}
    <p>Вы вошли как: <strong>{{ user.username }}</strong></p>
    <a href="{% url 'account_logout' %}">Выйти</a>
{% else %}
    <p>Вы не авторизованы.</p>
    <a href="{% url 'account_login' %}">Войти</a> |
    <a href="{% url 'account_signup' %}">Зарегистрироваться</a>
{% endif %}

<ul>
    {% for queue in queues %}
        <li>
            <a href="{% url 'slot_list' queue.id %}">{{ queue.name }}</a>
            <span>({{ queue.status }})</span>
            <small>Доступно слотов: {{ queue.slot_set.available.count }}</small>
        </li>
    {% endfor %}
</ul>

<!-- Дополнительные данные для аутентифицированных пользователей -->
{% if user.is_authenticated and user_queues %}
    <h2>Ваши очереди</h2>
    <ul>
        {% for queue in user_queues %}
            <li>{{ queue.name }} - {{ queue.description }}</li>
        {% endfor %}
    </ul>
{% endif %}
